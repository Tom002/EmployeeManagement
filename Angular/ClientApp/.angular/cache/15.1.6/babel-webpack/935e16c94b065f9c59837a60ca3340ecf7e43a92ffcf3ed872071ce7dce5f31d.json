{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { combineLatest } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/api/app.generated\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/icon\";\nimport * as i7 from \"@angular/material/input\";\nimport * as i8 from \"@angular/material/form-field\";\nimport * as i9 from \"@angular/material/select\";\nimport * as i10 from \"@angular/material/core\";\nimport * as i11 from \"@angular/material/progress-spinner\";\nfunction EmployeeEditComponent_ng_container_1_mat_error_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Username is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EmployeeEditComponent_ng_container_1_mat_error_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Username can't be longer than 100 characters \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EmployeeEditComponent_ng_container_1_mat_error_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Password is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EmployeeEditComponent_ng_container_1_mat_error_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Password needs to be at least 8 characters \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EmployeeEditComponent_ng_container_1_mat_error_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Name is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EmployeeEditComponent_ng_container_1_mat_error_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Name can't be longer than 100 characters \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EmployeeEditComponent_ng_container_1_mat_error_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Position is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EmployeeEditComponent_ng_container_1_mat_error_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Position can't be longer than 100 characters \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EmployeeEditComponent_ng_container_1_mat_error_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Phone is required \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EmployeeEditComponent_ng_container_1_mat_error_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Phone can't be longer than 16 characters \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EmployeeEditComponent_ng_container_1_mat_option_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const boss_r15 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", boss_r15.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", boss_r15.name, \" \");\n  }\n}\nfunction EmployeeEditComponent_ng_container_1_mat_option_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const department_r16 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", department_r16.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", department_r16.name, \" \");\n  }\n}\nfunction EmployeeEditComponent_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"h3\", 2);\n    i0.ɵɵtext(2, \"Add new employee\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"form\", 3)(4, \"div\", 4)(5, \"mat-form-field\", 5)(6, \"mat-label\");\n    i0.ɵɵtext(7, \"Username\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"input\", 6, 7);\n    i0.ɵɵelementStart(10, \"mat-hint\", 8);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, EmployeeEditComponent_ng_container_1_mat_error_12_Template, 2, 0, \"mat-error\", 1);\n    i0.ɵɵtemplate(13, EmployeeEditComponent_ng_container_1_mat_error_13_Template, 2, 0, \"mat-error\", 1);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"mat-form-field\", 5)(15, \"mat-label\");\n    i0.ɵɵtext(16, \"Password\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(17, \"input\", 9);\n    i0.ɵɵelementStart(18, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function EmployeeEditComponent_ng_container_1_Template_button_click_18_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.hide = !ctx_r17.hide);\n    });\n    i0.ɵɵelementStart(19, \"mat-icon\");\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(21, EmployeeEditComponent_ng_container_1_mat_error_21_Template, 2, 0, \"mat-error\", 1);\n    i0.ɵɵtemplate(22, EmployeeEditComponent_ng_container_1_mat_error_22_Template, 2, 0, \"mat-error\", 1);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"mat-form-field\", 5)(24, \"mat-label\");\n    i0.ɵɵtext(25, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(26, \"input\", 11);\n    i0.ɵɵtemplate(27, EmployeeEditComponent_ng_container_1_mat_error_27_Template, 2, 0, \"mat-error\", 1);\n    i0.ɵɵtemplate(28, EmployeeEditComponent_ng_container_1_mat_error_28_Template, 2, 0, \"mat-error\", 1);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"mat-form-field\", 5)(30, \"mat-label\");\n    i0.ɵɵtext(31, \"Position\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(32, \"input\", 12);\n    i0.ɵɵtemplate(33, EmployeeEditComponent_ng_container_1_mat_error_33_Template, 2, 0, \"mat-error\", 1);\n    i0.ɵɵtemplate(34, EmployeeEditComponent_ng_container_1_mat_error_34_Template, 2, 0, \"mat-error\", 1);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"mat-form-field\", 5)(36, \"mat-label\");\n    i0.ɵɵtext(37, \"Phone\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"span\", 13);\n    i0.ɵɵtext(39, \" +36 \\u00A0\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(40, \"input\", 14);\n    i0.ɵɵtemplate(41, EmployeeEditComponent_ng_container_1_mat_error_41_Template, 2, 0, \"mat-error\", 1);\n    i0.ɵɵtemplate(42, EmployeeEditComponent_ng_container_1_mat_error_42_Template, 2, 0, \"mat-error\", 1);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(43, \"mat-form-field\")(44, \"mat-label\");\n    i0.ɵɵtext(45, \"Boss\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(46, \"mat-select\", 15);\n    i0.ɵɵtemplate(47, EmployeeEditComponent_ng_container_1_mat_option_47_Template, 2, 2, \"mat-option\", 16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(48, \"mat-form-field\")(49, \"mat-label\");\n    i0.ɵɵtext(50, \"Department\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(51, \"mat-select\", 17);\n    i0.ɵɵtemplate(52, EmployeeEditComponent_ng_container_1_mat_option_52_Template, 2, 2, \"mat-option\", 16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(53, \"div\", 18)(54, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function EmployeeEditComponent_ng_container_1_Template_button_click_54_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.submitForm());\n    });\n    i0.ɵɵtext(55, \" Save \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(56, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function EmployeeEditComponent_ng_container_1_Template_button_click_56_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.cancel());\n    });\n    i0.ɵɵtext(57, \"Cancel\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const _r2 = i0.ɵɵreference(9);\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.addEmployeeForm);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\"\", _r2.value.length, \" / 256\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.errorHandling(\"username\", \"required\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.errorHandling(\"name\", \"maxlength\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"type\", ctx_r0.hide ? \"password\" : \"text\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"aria-label\", \"Hide password\")(\"aria-pressed\", ctx_r0.hide);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.hide ? \"visibility_off\" : \"visibility\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.errorHandling(\"password\", \"required\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.errorHandling(\"password\", \"minlength\"));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.errorHandling(\"name\", \"required\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.errorHandling(\"name\", \"maxlength\"));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.errorHandling(\"position\", \"required\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.errorHandling(\"position\", \"maxlength\"));\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.errorHandling(\"phone\", \"required\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.errorHandling(\"phone\", \"maxlength\"));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.bossSelectOptions);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.departmentSelectOptions);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"mat-dialog-close\", 1)(\"disabled\", !ctx_r0.addEmployeeForm.valid);\n  }\n}\nfunction EmployeeEditComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 22);\n    i0.ɵɵelement(2, \"mat-spinner\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nexport class EmployeeEditComponent {\n  constructor(employeeClient, departmentClient, dialogRef, data, fb) {\n    this.employeeClient = employeeClient;\n    this.departmentClient = departmentClient;\n    this.dialogRef = dialogRef;\n    this.data = data;\n    this.fb = fb;\n    this.bossSelectOptions = [];\n    this.departmentSelectOptions = [];\n    this.hide = true;\n    this.dataLoaded = false;\n    this.errorHandling = (control, error) => {\n      return this.editEmployeeForm.controls[control].hasError(error);\n    };\n    this.initForm();\n    this.employeeId = data.id;\n  }\n  ngOnInit() {\n    combineLatest([this.employeeClient.employeeAll(), this.departmentClient.departmentAll()]).subscribe(result => {\n      this.dataLoaded = true;\n      this.bossSelectOptions = result[0];\n      this.departmentSelectOptions = result[1];\n    });\n  }\n  initForm() {\n    this.editEmployeeForm = this.fb.group({\n      name: ['', [Validators.required, Validators.maxLength(100)]],\n      position: ['', [Validators.required, Validators.maxLength(100)]],\n      phone: ['', [Validators.required, Validators.maxLength(16)]],\n      bossId: [null],\n      departmentId: [null, [Validators.required]]\n    });\n  }\n  cancel() {\n    this.dialogRef.close(false);\n  }\n  submitForm() {\n    this.employeeClient.employeePUT(1, {\n      name: this.editEmployeeForm.controls['name'].value,\n      position: this.editEmployeeForm.controls['position'].value,\n      phone: this.editEmployeeForm.controls['phone'].value,\n      bossId: this.editEmployeeForm.controls['bossId'].value,\n      departmentId: this.editEmployeeForm.controls['departmentId'].value\n    }).subscribe(() => {\n      this.dialogRef.close(true);\n    });\n  }\n}\nEmployeeEditComponent.ɵfac = function EmployeeEditComponent_Factory(t) {\n  return new (t || EmployeeEditComponent)(i0.ɵɵdirectiveInject(i1.EmployeeClient), i0.ɵɵdirectiveInject(i1.DepartmentClient), i0.ɵɵdirectiveInject(i2.MatDialogRef), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA), i0.ɵɵdirectiveInject(i3.FormBuilder));\n};\nEmployeeEditComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EmployeeEditComponent,\n  selectors: [[\"app-employee-edit\"]],\n  decls: 3,\n  vars: 2,\n  consts: [[1, \"container\"], [4, \"ngIf\"], [\"mat-dialog-title\", \"\"], [3, \"formGroup\"], [1, \"content-container\"], [\"appearance\", \"fill\"], [\"matInput\", \"\", \"maxlength\", \"100\", \"placeholder\", \"Username\", \"formControlName\", \"username\"], [\"message\", \"\"], [\"align\", \"end\"], [\"matInput\", \"\", \"placeholder\", \"Password\", \"formControlName\", \"password\", 3, \"type\"], [\"mat-icon-button\", \"\", \"matSuffix\", \"\", 3, \"click\"], [\"matInput\", \"\", \"placeholder\", \"Name\", \"formControlName\", \"name\"], [\"matInput\", \"\", \"placeholder\", \"Position\", \"formControlName\", \"position\"], [\"matPrefix\", \"\"], [\"matInput\", \"\", \"type\", \"tel\", \"placeholder\", \"20-123-4567\", \"formControlName\", \"phone\"], [\"formControlName\", \"bossId\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"formControlName\", \"departmentId\"], [\"mat-dialog-actions\", \"\"], [\"mat-raised-button\", \"\", \"type\", \"submit\", \"color\", \"primary\", 3, \"mat-dialog-close\", \"disabled\", \"click\"], [\"mat-button\", \"\", \"tabindex\", \"-1\", 3, \"click\"], [3, \"value\"], [1, \"spinner-container\"]],\n  template: function EmployeeEditComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtemplate(1, EmployeeEditComponent_ng_container_1_Template, 58, 20, \"ng-container\", 1);\n      i0.ɵɵtemplate(2, EmployeeEditComponent_ng_container_2_Template, 3, 0, \"ng-container\", 1);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.dataLoaded);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.dataLoaded);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i5.MatButton, i5.MatIconButton, i6.MatIcon, i2.MatDialogClose, i2.MatDialogTitle, i2.MatDialogActions, i7.MatInput, i8.MatFormField, i8.MatLabel, i8.MatHint, i8.MatError, i8.MatPrefix, i8.MatSuffix, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.MaxLengthValidator, i3.FormGroupDirective, i3.FormControlName, i9.MatSelect, i10.MatOption, i11.MatProgressSpinner],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["Validators","MAT_DIALOG_DATA","combineLatest","i0","EmployeeEditComponent","constructor","employeeClient","departmentClient","dialogRef","data","fb","control","error","editEmployeeForm","controls","hasError","initForm","employeeId","id","ngOnInit","employeeAll","departmentAll","subscribe","result","dataLoaded","bossSelectOptions","departmentSelectOptions","group","name","required","maxLength","position","phone","bossId","departmentId","cancel","close","submitForm","employeePUT","value","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\princz\\source\\repos\\Angular\\Angular\\ClientApp\\src\\app\\modules\\employee\\employee-edit\\employee-edit.component.ts","C:\\Users\\princz\\source\\repos\\Angular\\Angular\\ClientApp\\src\\app\\modules\\employee\\employee-edit\\employee-edit.component.html"],"sourcesContent":["import { Component, Inject } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { combineLatest } from 'rxjs';\nimport {\n  EmployeeListDto,\n  DepartmentDto,\n  EmployeeClient,\n  DepartmentClient,\n  EmployeeUpdateDto,\n} from 'src/app/api/app.generated';\nimport { EmployeeAddComponent } from '../employee-add/employee-add.component';\n\n@Component({\n  selector: 'app-employee-edit',\n  templateUrl: './employee-edit.component.html',\n  styleUrls: ['./employee-edit.component.css'],\n})\nexport class EmployeeEditComponent {\n  editEmployeeForm!: FormGroup;\n  bossSelectOptions: EmployeeListDto[] = [];\n  departmentSelectOptions: DepartmentDto[] = [];\n  hide = true;\n  dataLoaded = false;\n  employeeId!: number;\n\n  constructor(\n    private readonly employeeClient: EmployeeClient,\n    private readonly departmentClient: DepartmentClient,\n    private readonly dialogRef: MatDialogRef<EmployeeAddComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: any,\n    private readonly fb: FormBuilder\n  ) {\n    this.initForm();\n    this.employeeId = data.id;\n  }\n\n  ngOnInit(): void {\n    combineLatest([\n      this.employeeClient.employeeAll(),\n      this.departmentClient.departmentAll(),\n    ]).subscribe((result) => {\n      this.dataLoaded = true;\n      this.bossSelectOptions = result[0];\n      this.departmentSelectOptions = result[1];\n    });\n  }\n\n  initForm() {\n    this.editEmployeeForm = this.fb.group({\n      name: ['', [Validators.required, Validators.maxLength(100)]],\n      position: ['', [Validators.required, Validators.maxLength(100)]],\n      phone: ['', [Validators.required, Validators.maxLength(16)]],\n      bossId: [null],\n      departmentId: [null, [Validators.required]],\n    });\n  }\n\n  cancel() {\n    this.dialogRef.close(false);\n  }\n\n  submitForm() {\n    this.employeeClient\n      .employeePUT(1, {\n        name: this.editEmployeeForm.controls['name'].value,\n        position: this.editEmployeeForm.controls['position'].value,\n        phone: this.editEmployeeForm.controls['phone'].value,\n        bossId: this.editEmployeeForm.controls['bossId'].value,\n        departmentId: this.editEmployeeForm.controls['departmentId'].value,\n      } as EmployeeUpdateDto)\n      .subscribe(() => {\n        this.dialogRef.close(true);\n      });\n  }\n\n  public errorHandling = (control: string, error: string) => {\n    return this.editEmployeeForm.controls[control].hasError(error);\n  };\n}\n","<div class=\"container\">\n  <ng-container *ngIf=\"dataLoaded\">\n    <h3 mat-dialog-title>Add new employee</h3>\n\n    <form [formGroup]=\"addEmployeeForm\">\n      <div class=\"content-container\">\n        <mat-form-field appearance=\"fill\">\n          <mat-label>Username</mat-label>\n          <input\n            matInput\n            #message\n            maxlength=\"100\"\n            placeholder=\"Username\"\n            formControlName=\"username\"\n          />\n          <mat-hint align=\"end\">{{ message.value.length }} / 256</mat-hint>\n          <mat-error *ngIf=\"errorHandling('username', 'required')\">\n            Username is required\n          </mat-error>\n          <mat-error *ngIf=\"errorHandling('name', 'maxlength')\">\n            Username can't be longer than 100 characters\n          </mat-error>\n        </mat-form-field>\n\n        <mat-form-field appearance=\"fill\">\n          <mat-label>Password</mat-label>\n          <input\n            matInput\n            [type]=\"hide ? 'password' : 'text'\"\n            placeholder=\"Password\"\n            formControlName=\"password\"\n          />\n          <button\n            mat-icon-button\n            matSuffix\n            (click)=\"hide = !hide\"\n            [attr.aria-label]=\"'Hide password'\"\n            [attr.aria-pressed]=\"hide\"\n          >\n            <mat-icon>{{ hide ? \"visibility_off\" : \"visibility\" }}</mat-icon>\n          </button>\n          <mat-error *ngIf=\"errorHandling('password', 'required')\">\n            Password is required\n          </mat-error>\n          <mat-error *ngIf=\"errorHandling('password', 'minlength')\">\n            Password needs to be at least 8 characters\n          </mat-error>\n        </mat-form-field>\n\n        <mat-form-field appearance=\"fill\">\n          <mat-label>Name</mat-label>\n          <input matInput placeholder=\"Name\" formControlName=\"name\" />\n          <mat-error *ngIf=\"errorHandling('name', 'required')\">\n            Name is required\n          </mat-error>\n          <mat-error *ngIf=\"errorHandling('name', 'maxlength')\">\n            Name can't be longer than 100 characters\n          </mat-error>\n        </mat-form-field>\n\n        <mat-form-field appearance=\"fill\">\n          <mat-label>Position</mat-label>\n          <input matInput placeholder=\"Position\" formControlName=\"position\" />\n          <mat-error *ngIf=\"errorHandling('position', 'required')\">\n            Position is required\n          </mat-error>\n          <mat-error *ngIf=\"errorHandling('position', 'maxlength')\">\n            Position can't be longer than 100 characters\n          </mat-error>\n        </mat-form-field>\n\n        <mat-form-field appearance=\"fill\">\n          <mat-label>Phone</mat-label>\n          <span matPrefix> +36 &nbsp;</span>\n          <input\n            matInput\n            type=\"tel\"\n            placeholder=\"20-123-4567\"\n            formControlName=\"phone\"\n          />\n          <mat-error *ngIf=\"errorHandling('phone', 'required')\">\n            Phone is required\n          </mat-error>\n          <mat-error *ngIf=\"errorHandling('phone', 'maxlength')\">\n            Phone can't be longer than 16 characters\n          </mat-error>\n        </mat-form-field>\n\n        <mat-form-field>\n          <mat-label>Boss</mat-label>\n          <mat-select formControlName=\"bossId\">\n            <mat-option\n              *ngFor=\"let boss of bossSelectOptions\"\n              [value]=\"boss.id\"\n            >\n              {{ boss.name }}\n            </mat-option>\n          </mat-select>\n        </mat-form-field>\n\n        <mat-form-field>\n          <mat-label>Department</mat-label>\n          <mat-select formControlName=\"departmentId\">\n            <mat-option\n              *ngFor=\"let department of departmentSelectOptions\"\n              [value]=\"department.id\"\n            >\n              {{ department.name }}\n            </mat-option>\n          </mat-select>\n        </mat-form-field>\n\n        <div mat-dialog-actions>\n          <button\n            mat-raised-button\n            type=\"submit\"\n            color=\"primary\"\n            [mat-dialog-close]=\"1\"\n            [disabled]=\"!addEmployeeForm.valid\"\n            (click)=\"submitForm()\"\n          >\n            Save\n          </button>\n          <button mat-button (click)=\"cancel()\" tabindex=\"-1\">Cancel</button>\n        </div>\n      </div>\n    </form>\n  </ng-container>\n\n  <ng-container *ngIf=\"!dataLoaded\">\n    <div class=\"spinner-container\"><mat-spinner></mat-spinner></div>\n  </ng-container>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}