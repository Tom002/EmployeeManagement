{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/api/app.generated\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"src/app/shared/services/auth.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/input\";\nimport * as i8 from \"@angular/material/form-field\";\nimport * as i9 from \"@angular/material/card\";\nfunction LoginPageComponent_p_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 7);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.error, \" \");\n  }\n}\nexport class LoginPageComponent {\n  constructor(loginClient, fb, auth, router) {\n    this.loginClient = loginClient;\n    this.fb = fb;\n    this.auth = auth;\n    this.router = router;\n    this.loginForm = this.fb.group({\n      username: ['', [Validators.required, Validators.maxLength(100)]],\n      password: ['', [Validators.required, Validators.minLength(8)]]\n    });\n  }\n  submit() {\n    if (this.loginForm.valid) {\n      this.loginClient.login({\n        username: this.loginForm.controls['username'].value,\n        password: this.loginForm.controls['password'].value\n      }).subscribe(result => {\n        this.error = undefined;\n        this.auth.setUser(result);\n        this.router.navigate(['employees']);\n      }, error => {\n        this.error = 'Invalid credentials';\n      });\n    }\n  }\n}\nLoginPageComponent.ɵfac = function LoginPageComponent_Factory(t) {\n  return new (t || LoginPageComponent)(i0.ɵɵdirectiveInject(i1.LoginClient), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.AuthService), i0.ɵɵdirectiveInject(i4.Router));\n};\nLoginPageComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginPageComponent,\n  selectors: [[\"app-login-page\"]],\n  decls: 16,\n  vars: 2,\n  consts: [[1, \"login-form-flex\"], [3, \"formGroup\", \"ngSubmit\"], [\"type\", \"text\", \"matInput\", \"\", \"placeholder\", \"Username\", \"formControlName\", \"username\"], [\"type\", \"password\", \"matInput\", \"\", \"placeholder\", \"Password\", \"formControlName\", \"password\"], [\"class\", \"error\", 4, \"ngIf\"], [1, \"button-flex-container\"], [\"type\", \"submit\", \"color\", \"primary\", \"mat-button\", \"\"], [1, \"error\"]],\n  template: function LoginPageComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"mat-card\")(2, \"mat-card-title\");\n      i0.ɵɵtext(3, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"mat-card-content\")(5, \"form\", 1);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginPageComponent_Template_form_ngSubmit_5_listener() {\n        return ctx.submit();\n      });\n      i0.ɵɵelementStart(6, \"p\")(7, \"mat-form-field\");\n      i0.ɵɵelement(8, \"input\", 2);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"p\")(10, \"mat-form-field\");\n      i0.ɵɵelement(11, \"input\", 3);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(12, LoginPageComponent_p_12_Template, 2, 1, \"p\", 4);\n      i0.ɵɵelementStart(13, \"div\", 5)(14, \"button\", 6);\n      i0.ɵɵtext(15, \"Login\");\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngIf\", ctx.error);\n    }\n  },\n  dependencies: [i5.NgIf, i6.MatButton, i7.MatInput, i8.MatFormField, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName, i9.MatCard, i9.MatCardContent, i9.MatCardTitle],\n  styles: [\".login-form-flex[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n  align-items: center;\\r\\n  height: 100%;\\r\\n}\\r\\n\\r\\n.button-flex-container[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  width: 100%;\\r\\n  justify-content: flex-end;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbW9kdWxlcy9sb2dpbi9sb2dpbi1wYWdlL2xvZ2luLXBhZ2UuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQWE7RUFDYix1QkFBdUI7RUFDdkIsbUJBQW1CO0VBQ25CLFlBQVk7QUFDZDs7QUFFQTtFQUNFLGFBQWE7RUFDYixXQUFXO0VBQ1gseUJBQXlCO0FBQzNCIiwic291cmNlc0NvbnRlbnQiOlsiLmxvZ2luLWZvcm0tZmxleCB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGhlaWdodDogMTAwJTtcclxufVxyXG5cclxuLmJ1dHRvbi1mbGV4LWNvbnRhaW5lciB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICB3aWR0aDogMTAwJTtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"AACA,SAAiCA,UAAU,QAAQ,gBAAgB;;;;;;;;;;;;;IC0B3DC,4BAA+B;IAC7BA,YACF;IAAAA,iBAAI;;;;IADFA,eACF;IADEA,6CACF;;;ADlBR,OAAM,MAAOC,kBAAkB;EAI7BC,YACmBC,WAAwB,EACxBC,EAAe,EACfC,IAAiB,EACjBC,MAAc;IAHd,gBAAW,GAAXH,WAAW;IACX,OAAE,GAAFC,EAAE;IACF,SAAI,GAAJC,IAAI;IACJ,WAAM,GAANC,MAAM;IAEvB,IAAI,CAACC,SAAS,GAAG,IAAI,CAACH,EAAE,CAACI,KAAK,CAAC;MAC7BC,QAAQ,EAAE,CAAC,EAAE,EAAE,CAACV,UAAU,CAACW,QAAQ,EAAEX,UAAU,CAACY,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;MAChEC,QAAQ,EAAE,CAAC,EAAE,EAAE,CAACb,UAAU,CAACW,QAAQ,EAAEX,UAAU,CAACc,SAAS,CAAC,CAAC,CAAC,CAAC;KAC9D,CAAC;EACJ;EAEAC,MAAM;IACJ,IAAI,IAAI,CAACP,SAAS,CAACQ,KAAK,EAAE;MACxB,IAAI,CAACZ,WAAW,CACba,KAAK,CAAC;QACLP,QAAQ,EAAE,IAAI,CAACF,SAAS,CAACU,QAAQ,CAAC,UAAU,CAAC,CAACC,KAAK;QACnDN,QAAQ,EAAE,IAAI,CAACL,SAAS,CAACU,QAAQ,CAAC,UAAU,CAAC,CAACC;OAC/C,CAAC,CACDC,SAAS,CACPC,MAAM,IAAI;QACT,IAAI,CAACC,KAAK,GAAGC,SAAS;QACtB,IAAI,CAACjB,IAAI,CAACkB,OAAO,CAACH,MAAM,CAAC;QACzB,IAAI,CAACd,MAAM,CAACkB,QAAQ,CAAC,CAAC,WAAW,CAAC,CAAC;MACrC,CAAC,EACAH,KAAK,IAAI;QACR,IAAI,CAACA,KAAK,GAAG,qBAAqB;MACpC,CAAC,CACF;;EAEP;;AAlCWpB,kBAAkB;mBAAlBA,kBAAkB;AAAA;AAAlBA,kBAAkB;QAAlBA,kBAAkB;EAAAwB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCX/B7B,8BAA6B;MAETA,qBAAK;MAAAA,iBAAiB;MACtCA,wCAAkB;MACcA;QAAA,OAAY8B,YAAQ;MAAA,EAAC;MACjD9B,yBAAG;MAECA,2BAKE;MACJA,iBAAiB;MAGnBA,yBAAG;MAECA,4BAKE;MACJA,iBAAiB;MAGnBA,iEAEI;MAEJA,+BAAmC;MACgBA,sBAAK;MAAAA,iBAAS;;;MA5B7DA,eAAuB;MAAvBA,yCAAuB;MAuBvBA,eAAW;MAAXA,gCAAW","names":["Validators","i0","LoginPageComponent","constructor","loginClient","fb","auth","router","loginForm","group","username","required","maxLength","password","minLength","submit","valid","login","controls","value","subscribe","result","error","undefined","setUser","navigate","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\princz\\source\\repos\\Angular\\Angular\\ClientApp\\src\\app\\modules\\login\\login-page\\login-page.component.ts","C:\\Users\\princz\\source\\repos\\Angular\\Angular\\ClientApp\\src\\app\\modules\\login\\login-page\\login-page.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { LoginClient } from 'src/app/api/app.generated';\nimport { AuthService } from 'src/app/shared/services/auth.service';\n\n@Component({\n  selector: 'app-login-page',\n  templateUrl: './login-page.component.html',\n  styleUrls: ['./login-page.component.css'],\n})\nexport class LoginPageComponent {\n  loginForm!: FormGroup;\n  error: string | undefined;\n\n  constructor(\n    private readonly loginClient: LoginClient,\n    private readonly fb: FormBuilder,\n    private readonly auth: AuthService,\n    private readonly router: Router\n  ) {\n    this.loginForm = this.fb.group({\n      username: ['', [Validators.required, Validators.maxLength(100)]],\n      password: ['', [Validators.required, Validators.minLength(8)]],\n    });\n  }\n\n  submit() {\n    if (this.loginForm.valid) {\n      this.loginClient\n        .login({\n          username: this.loginForm.controls['username'].value,\n          password: this.loginForm.controls['password'].value,\n        })\n        .subscribe(\n          (result) => {\n            this.error = undefined;\n            this.auth.setUser(result);\n            this.router.navigate(['employees']);\n          },\n          (error) => {\n            this.error = 'Invalid credentials';\n          }\n        );\n    }\n  }\n}\n","<div class=\"login-form-flex\">\n  <mat-card>\n    <mat-card-title>Login</mat-card-title>\n    <mat-card-content>\n      <form [formGroup]=\"loginForm\" (ngSubmit)=\"submit()\">\n        <p>\n          <mat-form-field>\n            <input\n              type=\"text\"\n              matInput\n              placeholder=\"Username\"\n              formControlName=\"username\"\n            />\n          </mat-form-field>\n        </p>\n\n        <p>\n          <mat-form-field>\n            <input\n              type=\"password\"\n              matInput\n              placeholder=\"Password\"\n              formControlName=\"password\"\n            />\n          </mat-form-field>\n        </p>\n\n        <p *ngIf=\"error\" class=\"error\">\n          {{ error }}\n        </p>\n\n        <div class=\"button-flex-container\">\n          <button type=\"submit\" color=\"primary\" mat-button>Login</button>\n        </div>\n      </form>\n    </mat-card-content>\n  </mat-card>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}