{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { DepartmentAddComponent } from '../department-add/department-add.component';\nimport { DepartmentEditComponent } from '../department-edit/department-edit.component';\nlet DepartmentListComponent = class DepartmentListComponent {\n  constructor(departmentClient, dialog, snackBar) {\n    this.departmentClient = departmentClient;\n    this.dialog = dialog;\n    this.snackBar = snackBar;\n    this.departments = [];\n    this.columnsToDisplay = ['name', 'abbreviation', 'actions'];\n    this.horizontalPosition = 'end';\n    this.verticalPosition = 'top';\n  }\n  ngOnInit() {\n    this.loadData();\n  }\n  loadData() {\n    this.departmentClient.departmentAll().subscribe(data => {\n      this.departments = data;\n    });\n  }\n  addDepartment() {\n    const dialogRef = this.dialog.open(DepartmentAddComponent, {\n      disableClose: true\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.snackBar.open('Success', 'Department create success', {\n          duration: 500,\n          horizontalPosition: this.horizontalPosition,\n          verticalPosition: this.verticalPosition\n        });\n        // TODO: ezzel kezden valamit\n        setTimeout(() => {\n          this.loadData();\n        }, 500);\n      }\n    });\n  }\n  deleteDepartment(departmentId) {\n    this.departmentClient.departmentDELETE(departmentId).subscribe(() => {\n      this.snackBar.open('Success', 'Department delete success', {\n        duration: 500,\n        horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition\n      });\n      this.loadData();\n    });\n  }\n  editDepartment(department) {\n    const dialogRef = this.dialog.open(DepartmentEditComponent, {\n      data: department,\n      disableClose: true\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.snackBar.open('Success', 'Department edit success', {\n          duration: 500,\n          horizontalPosition: this.horizontalPosition,\n          verticalPosition: this.verticalPosition\n        });\n        this.loadData();\n      }\n    });\n  }\n};\nDepartmentListComponent = __decorate([Component({\n  selector: 'app-department-list',\n  templateUrl: './department-list.component.html',\n  styleUrls: ['./department-list.component.css']\n})], DepartmentListComponent);\nexport { DepartmentListComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAMjD,SAASC,sBAAsB,QAAQ,4CAA4C;AACnF,SAASC,uBAAuB,QAAQ,8CAA8C;AAY/E,IAAMC,uBAAuB,GAA7B,MAAMA,uBAAuB;EAOlCC,YACmBC,gBAAkC,EAClCC,MAAiB,EACjBC,QAAqB;IAFrB,qBAAgB,GAAhBF,gBAAgB;IAChB,WAAM,GAANC,MAAM;IACN,aAAQ,GAARC,QAAQ;IAT3B,gBAAW,GAAoB,EAAE;IAEjC,qBAAgB,GAAG,CAAC,MAAM,EAAE,cAAc,EAAE,SAAS,CAAC;IACtD,uBAAkB,GAAkC,KAAK;IACzD,qBAAgB,GAAgC,KAAK;EAMlD;EAEHC,QAAQ;IACN,IAAI,CAACC,QAAQ,EAAE;EACjB;EAEAA,QAAQ;IACN,IAAI,CAACJ,gBAAgB,CAACK,aAAa,EAAE,CAACC,SAAS,CAAEC,IAAI,IAAI;MACvD,IAAI,CAACC,WAAW,GAAGD,IAAI;IACzB,CAAC,CAAC;EACJ;EAEAE,aAAa;IACX,MAAMC,SAAS,GAAG,IAAI,CAACT,MAAM,CAACU,IAAI,CAACf,sBAAsB,EAAE;MACzDgB,YAAY,EAAE;KACf,CAAC;IAEFF,SAAS,CAACG,WAAW,EAAE,CAACP,SAAS,CAAEQ,MAAM,IAAI;MAC3C,IAAIA,MAAM,EAAE;QACV,IAAI,CAACZ,QAAQ,CAACS,IAAI,CAAC,SAAS,EAAE,2BAA2B,EAAE;UACzDI,QAAQ,EAAE,GAAG;UACbC,kBAAkB,EAAE,IAAI,CAACA,kBAAkB;UAC3CC,gBAAgB,EAAE,IAAI,CAACA;SACxB,CAAC;QAEF;QACAC,UAAU,CAAC,MAAK;UACd,IAAI,CAACd,QAAQ,EAAE;QACjB,CAAC,EAAE,GAAG,CAAC;;IAEX,CAAC,CAAC;EACJ;EAEAe,gBAAgB,CAACC,YAAoB;IACnC,IAAI,CAACpB,gBAAgB,CAACqB,gBAAgB,CAACD,YAAY,CAAC,CAACd,SAAS,CAAC,MAAK;MAClE,IAAI,CAACJ,QAAQ,CAACS,IAAI,CAAC,SAAS,EAAE,2BAA2B,EAAE;QACzDI,QAAQ,EAAE,GAAG;QACbC,kBAAkB,EAAE,IAAI,CAACA,kBAAkB;QAC3CC,gBAAgB,EAAE,IAAI,CAACA;OACxB,CAAC;MACF,IAAI,CAACb,QAAQ,EAAE;IACjB,CAAC,CAAC;EACJ;EAEAkB,cAAc,CAACC,UAAyB;IACtC,MAAMb,SAAS,GAAG,IAAI,CAACT,MAAM,CAACU,IAAI,CAACd,uBAAuB,EAAE;MAC1DU,IAAI,EAAEgB,UAAU;MAChBX,YAAY,EAAE;KACf,CAAC;IAEFF,SAAS,CAACG,WAAW,EAAE,CAACP,SAAS,CAAEQ,MAAM,IAAI;MAC3C,IAAIA,MAAM,EAAE;QACV,IAAI,CAACZ,QAAQ,CAACS,IAAI,CAAC,SAAS,EAAE,yBAAyB,EAAE;UACvDI,QAAQ,EAAE,GAAG;UACbC,kBAAkB,EAAE,IAAI,CAACA,kBAAkB;UAC3CC,gBAAgB,EAAE,IAAI,CAACA;SACxB,CAAC;QACF,IAAI,CAACb,QAAQ,EAAE;;IAEnB,CAAC,CAAC;EACJ;CACD;AAxEYN,uBAAuB,eALnCH,SAAS,CAAC;EACT6B,QAAQ,EAAE,qBAAqB;EAC/BC,WAAW,EAAE,kCAAkC;EAC/CC,SAAS,EAAE,CAAC,iCAAiC;CAC9C,CAAC,GACW5B,uBAAuB,CAwEnC;SAxEYA,uBAAuB","names":["Component","DepartmentAddComponent","DepartmentEditComponent","DepartmentListComponent","constructor","departmentClient","dialog","snackBar","ngOnInit","loadData","departmentAll","subscribe","data","departments","addDepartment","dialogRef","open","disableClose","afterClosed","result","duration","horizontalPosition","verticalPosition","setTimeout","deleteDepartment","departmentId","departmentDELETE","editDepartment","department","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\princz\\source\\repos\\Angular\\Angular\\ClientApp\\src\\app\\modules\\department\\department-list\\department-list.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport {\n  DepartmentClient,\n  DepartmentDto,\n} from 'src/app/core/api/app.generated';\nimport { MatDialog } from '@angular/material/dialog';\nimport { DepartmentAddComponent } from '../department-add/department-add.component';\nimport { DepartmentEditComponent } from '../department-edit/department-edit.component';\nimport {\n  MatSnackBar,\n  MatSnackBarHorizontalPosition,\n  MatSnackBarVerticalPosition,\n} from '@angular/material/snack-bar';\n\n@Component({\n  selector: 'app-department-list',\n  templateUrl: './department-list.component.html',\n  styleUrls: ['./department-list.component.css'],\n})\nexport class DepartmentListComponent implements OnInit {\n  departments: DepartmentDto[] = [];\n\n  columnsToDisplay = ['name', 'abbreviation', 'actions'];\n  horizontalPosition: MatSnackBarHorizontalPosition = 'end';\n  verticalPosition: MatSnackBarVerticalPosition = 'top';\n\n  constructor(\n    private readonly departmentClient: DepartmentClient,\n    private readonly dialog: MatDialog,\n    private readonly snackBar: MatSnackBar\n  ) {}\n\n  ngOnInit(): void {\n    this.loadData();\n  }\n\n  loadData(): void {\n    this.departmentClient.departmentAll().subscribe((data) => {\n      this.departments = data;\n    });\n  }\n\n  addDepartment() {\n    const dialogRef = this.dialog.open(DepartmentAddComponent, {\n      disableClose: true,\n    });\n\n    dialogRef.afterClosed().subscribe((result) => {\n      if (result) {\n        this.snackBar.open('Success', 'Department create success', {\n          duration: 500,\n          horizontalPosition: this.horizontalPosition,\n          verticalPosition: this.verticalPosition,\n        });\n\n        // TODO: ezzel kezden valamit\n        setTimeout(() => {\n          this.loadData();\n        }, 500);\n      }\n    });\n  }\n\n  deleteDepartment(departmentId: number) {\n    this.departmentClient.departmentDELETE(departmentId).subscribe(() => {\n      this.snackBar.open('Success', 'Department delete success', {\n        duration: 500,\n        horizontalPosition: this.horizontalPosition,\n        verticalPosition: this.verticalPosition,\n      });\n      this.loadData();\n    });\n  }\n\n  editDepartment(department: DepartmentDto) {\n    const dialogRef = this.dialog.open(DepartmentEditComponent, {\n      data: department,\n      disableClose: true,\n    });\n\n    dialogRef.afterClosed().subscribe((result) => {\n      if (result) {\n        this.snackBar.open('Success', 'Department edit success', {\n          duration: 500,\n          horizontalPosition: this.horizontalPosition,\n          verticalPosition: this.verticalPosition,\n        });\n        this.loadData();\n      }\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}