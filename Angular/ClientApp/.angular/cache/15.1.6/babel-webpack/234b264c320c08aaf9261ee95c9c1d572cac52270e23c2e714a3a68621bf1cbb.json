{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { DepartmentAddComponent } from '../department-add/department-add.component';\nimport { DepartmentEditComponent } from '../department-edit/department-edit.component';\nlet DepartmentListComponent = class DepartmentListComponent {\n  constructor(departmentClient, dialog, snackBar) {\n    this.departmentClient = departmentClient;\n    this.dialog = dialog;\n    this.snackBar = snackBar;\n    this.departments = [];\n    this.columnsToDisplay = ['name', 'abbreviation', 'actions'];\n  }\n  ngOnInit() {\n    this.loadData();\n  }\n  loadData() {\n    this.departmentClient.departmentAll().subscribe(data => {\n      this.departments = data;\n    });\n  }\n  addDepartment() {\n    const dialogRef = this.dialog.open(DepartmentAddComponent);\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.loadData();\n      }\n    });\n  }\n  deleteDepartment(departmentId) {\n    this.departmentClient.departmentDELETE(departmentId).subscribe(() => {\n      this.loadData();\n    });\n  }\n  editDepartment(department) {\n    const dialogRef = this.dialog.open(DepartmentEditComponent, {\n      data: department\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.loadData();\n      }\n    });\n  }\n};\nDepartmentListComponent = __decorate([Component({\n  selector: 'app-department-list',\n  templateUrl: './department-list.component.html',\n  styleUrls: ['./department-list.component.css']\n})], DepartmentListComponent);\nexport { DepartmentListComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAMjD,SAASC,sBAAsB,QAAQ,4CAA4C;AACnF,SAASC,uBAAuB,QAAQ,8CAA8C;AAQ/E,IAAMC,uBAAuB,GAA7B,MAAMA,uBAAuB;EAKlCC,YACmBC,gBAAkC,EAClCC,MAAiB,EACjBC,QAAqB;IAFrB,qBAAgB,GAAhBF,gBAAgB;IAChB,WAAM,GAANC,MAAM;IACN,aAAQ,GAARC,QAAQ;IAP3B,gBAAW,GAAoB,EAAE;IAEjC,qBAAgB,GAAG,CAAC,MAAM,EAAE,cAAc,EAAE,SAAS,CAAC;EAMnD;EAEHC,QAAQ;IACN,IAAI,CAACC,QAAQ,EAAE;EACjB;EAEAA,QAAQ;IACN,IAAI,CAACJ,gBAAgB,CAACK,aAAa,EAAE,CAACC,SAAS,CAAEC,IAAI,IAAI;MACvD,IAAI,CAACC,WAAW,GAAGD,IAAI;IACzB,CAAC,CAAC;EACJ;EAEAE,aAAa;IACX,MAAMC,SAAS,GAAG,IAAI,CAACT,MAAM,CAACU,IAAI,CAACf,sBAAsB,CAAC;IAE1Dc,SAAS,CAACE,WAAW,EAAE,CAACN,SAAS,CAAEO,MAAM,IAAI;MAC3C,IAAIA,MAAM,EAAE;QACV,IAAI,CAACT,QAAQ,EAAE;;IAEnB,CAAC,CAAC;EACJ;EAEAU,gBAAgB,CAACC,YAAoB;IACnC,IAAI,CAACf,gBAAgB,CAACgB,gBAAgB,CAACD,YAAY,CAAC,CAACT,SAAS,CAAC,MAAK;MAClE,IAAI,CAACF,QAAQ,EAAE;IACjB,CAAC,CAAC;EACJ;EAEAa,cAAc,CAACC,UAAyB;IACtC,MAAMR,SAAS,GAAG,IAAI,CAACT,MAAM,CAACU,IAAI,CAACd,uBAAuB,EAAE;MAC1DU,IAAI,EAAEW;KACP,CAAC;IAEFR,SAAS,CAACE,WAAW,EAAE,CAACN,SAAS,CAAEO,MAAM,IAAI;MAC3C,IAAIA,MAAM,EAAE;QACV,IAAI,CAACT,QAAQ,EAAE;;IAEnB,CAAC,CAAC;EACJ;CACD;AAhDYN,uBAAuB,eALnCH,SAAS,CAAC;EACTwB,QAAQ,EAAE,qBAAqB;EAC/BC,WAAW,EAAE,kCAAkC;EAC/CC,SAAS,EAAE,CAAC,iCAAiC;CAC9C,CAAC,GACWvB,uBAAuB,CAgDnC;SAhDYA,uBAAuB","names":["Component","DepartmentAddComponent","DepartmentEditComponent","DepartmentListComponent","constructor","departmentClient","dialog","snackBar","ngOnInit","loadData","departmentAll","subscribe","data","departments","addDepartment","dialogRef","open","afterClosed","result","deleteDepartment","departmentId","departmentDELETE","editDepartment","department","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\princz\\source\\repos\\Angular\\Angular\\ClientApp\\src\\app\\modules\\department\\department-list\\department-list.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport {\n  DepartmentClient,\n  DepartmentDto,\n} from 'src/app/core/api/app.generated';\nimport { MatDialog } from '@angular/material/dialog';\nimport { DepartmentAddComponent } from '../department-add/department-add.component';\nimport { DepartmentEditComponent } from '../department-edit/department-edit.component';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\n\n@Component({\n  selector: 'app-department-list',\n  templateUrl: './department-list.component.html',\n  styleUrls: ['./department-list.component.css'],\n})\nexport class DepartmentListComponent implements OnInit {\n  departments: DepartmentDto[] = [];\n\n  columnsToDisplay = ['name', 'abbreviation', 'actions'];\n\n  constructor(\n    private readonly departmentClient: DepartmentClient,\n    private readonly dialog: MatDialog,\n    private readonly snackBar: MatSnackBar\n  ) {}\n\n  ngOnInit(): void {\n    this.loadData();\n  }\n\n  loadData(): void {\n    this.departmentClient.departmentAll().subscribe((data) => {\n      this.departments = data;\n    });\n  }\n\n  addDepartment() {\n    const dialogRef = this.dialog.open(DepartmentAddComponent);\n\n    dialogRef.afterClosed().subscribe((result) => {\n      if (result) {\n        this.loadData();\n      }\n    });\n  }\n\n  deleteDepartment(departmentId: number) {\n    this.departmentClient.departmentDELETE(departmentId).subscribe(() => {\n      this.loadData();\n    });\n  }\n\n  editDepartment(department: DepartmentDto) {\n    const dialogRef = this.dialog.open(DepartmentEditComponent, {\n      data: department,\n    });\n\n    dialogRef.afterClosed().subscribe((result) => {\n      if (result) {\n        this.loadData();\n      }\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}